# 总结
## 内存管理系统小结
- 使用位图这一数据结构来对总的内存空间进行抽象化映射，即一位数据代表4K（一物理页）的内存空间；
- 将总的内存空间划分为两部分：内核内存池与用户内存池，在需要新的内存时，分别从指定的内存池中分配内存空间；
- 内核内存池与用户内存池中保存着所有内存的分配状态，以及当前内存池的物理内存起始地址
- 由于开启分页机制后，所有地址均为虚拟地址，所以虚拟内存地址空间也需要进行管理，也是用位图对虚拟空间做地址映射
- 在进行内存分配的时候，需要同时分配虚拟内存地址以及物理内存地址；首先需要分配虚拟内存空间，在分配虚拟内存地址时，可以直接在虚拟内存池中寻找一整块满足需要大小的内存块；接着分配物理内存地址，由于需要将虚拟内存映射到指定的物理内存上，同时由于空闲的物理内存在内存空间中分布较散，所以，物理内存1次只能按照1页来分配，分配1页物理空间，就将指定的虚拟地址映射到该物理内存空间上。
